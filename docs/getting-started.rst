RADON DATAPIPELINE METHODOLOGY
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. image:: images/PipelineBlock-v1.png

radon-datapipeline-plugin
~~~~~~~~~~~~~~~~~~~~~~~~~

A plugin to make the TOSCA-based data pipeline service blueprint workable.  

This plugin aims to handle the TOSCA CSAR file, which is generated by RAODN-GMT, to make it executable by the RADON-orchestrator. While doing so, this plugin updates the service blueprint based on the artifacts of the user-created TOSCA nodes. 


Where is this plugin in RADON-Architecture?
*******************************************

We can realized this plugin in the path of RADON-GMT to RADON Orchestrator. This is shown in the following figure.  The input to this plugin is the user-created TOSCA service blueprint (i.e. CSAR file) from RADON-GMT and the output the updated CSAR file to the RADON Orchestrator. This plugin also interacts with the RADON template library to update the CSAR with the correct templates that fits into the targeted multi cloud evironment.

What is inside?
***************

1. This plugin unzip the CSAR file, get the YAML file (the service blueprint).
2. Parse the the YAML file and understand the node topolology.
3. Make any changes/modification to the YAML file itself, if needed.
4. Updates the templates, if needed.
5. Zip again all and create the CSAR file.
6. Pass the ZIP file to the RADON Orchestrator.


This is the initial version of the Data pipeline plugin. In the proceeding version, the plugin will be improved and will come with lots of features. 

How to use the plugin as a stand alone tool?
*********************************************

1. Download the plugin
2. Make sure that Python environment is working on your machine.
3. Keep your  TOSCA service ready and note the path. 
4. In this version of the Plugin, YAML file is expected as input.
5. Execute the following command::
  python DPP <path to the yaml file>
6. Output will be placed in the current directory.


How to use the plugin API?
*******************************************

1. Web service version of the plugin is available in the datapipeline-server folder

2. Download the github project repository

3. User Docker  to build and deploy the data pipeline plugin webservice:

.. code-block:: bash
   :linenos:
  cd  datapipeline-server
  
  # building the image
  docker build -t radon_dpp_server .
  
  # starting up a container
  docker run -p 8080:8080 adon_dpp_server



4. Open your browser to here: http://localhost:8080/RadonDataPipeline/ui/

